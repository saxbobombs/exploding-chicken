(()=>{"use strict";var t={982:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"* {\r\n    margin:0;\r\n    padding:0;\r\n}\r\nhtml,body{\r\n    width:100%;\r\n    height:100%;\r\n}\r\ncanvas{\r\n    box-shadow:0 0 2px red;\r\n}","",{version:3,sources:["webpack://./src/style/style.css"],names:[],mappings:"AAAA;IACI,QAAQ;IACR,SAAS;AACb;AACA;IACI,UAAU;IACV,WAAW;AACf;AACA;IACI,sBAAsB;AAC1B",sourcesContent:["* {\r\n    margin:0;\r\n    padding:0;\r\n}\r\nhtml,body{\r\n    width:100%;\r\n    height:100%;\r\n}\r\ncanvas{\r\n    box-shadow:0 0 2px red;\r\n}"],sourceRoot:""}]);const c=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var c=0;c<t.length;c++){var s=[].concat(t[c]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),e.push(s))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,i=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),h="/*# ".concat(s," */"),u=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(u).concat([h]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var c=t[i],s=e.base?c[0]+e.base:c[0],h=n[s]||0,u="".concat(s," ").concat(h);n[s]=h+1;var p=a(u),l={css:c[1],media:c[2],sourceMap:c[3]};-1!==p?(o[p].references++,o[p].updater(l)):o.push({identifier:u,updater:v(l,e),references:1}),r.push(u)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function p(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function l(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,f=0;function v(t,e){var n,r,i;if(e.singleton){var o=f++;n=d||(d=s(e)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=s(e),r=l.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var s=c(t,e),h=0;h<n.length;h++){var u=a(n[h]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=s}}}},937:(t,e,n)=>{t.exports=n.p+"86ec21ec2ad0c08d08b5.png"}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{var t=n(379),e=n.n(t),r=n(982);e()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;const i=new function(){this.fps=60},o=function(){function t(){}return t.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.debounce=function(t,e,n){var r;return void 0===e&&(e=void 0),void 0===n&&(n=void 0),function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},c=n&&!r;clearTimeout(r),r=setTimeout(a,e),c&&t.apply(i,o)}},t}(),a=function(){function t(){this._tickCounter=1,t._viewCounter++,this._viewId=t._viewCounter.toString()}return t.prototype.tick=function(){this._tickCounter++,this._tickCounter>i.fps&&(this._tickCounter=1)},t._viewCounter=0,t}();var c,s=n(937),h=(c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const u=function(t){function e(e){var n=t.call(this)||this;n.sprite=new Image,n.helperCanvas=document.createElement("canvas"),n.sprites={right:[[66,22],[98,22],[130,24],[162,24]],left:[[64,90],[96,89],[128,88],[160,88]],explosion:[[240,22],[205,22],[23,87],[23,56],[23,20]]},n.path=[],n.exploding=!1,n.helperCanvas.width=e.width,n.helperCanvas.height=e.height,n.screen=e.screen,n.helperContext=n.helperCanvas.getContext("2d"),n.currentSpritePos=0;var r=n.screen.getBorders();return n.currentPathX=o.getRandom(0,r.right-n.helperCanvas.width),n.currentPathY=o.getRandom(0,r.bottom-n.helperCanvas.height),n.sprite.src=s,n._drawChicken(),n}return h(e,t),e.prototype._createPath=function(t,e){var n=this.currentPathX,r=this.currentPathY;this.directionX=!1!==t?t:o.getRandom(-1,1),this.directionY=!1!==e?e:o.getRandom(-1,1);for(var i=0;i<o.getRandom(1,1e3);i++){var a=n+i*this.directionX,c=r+i*this.directionY;this.path.push({x:a,y:c})}},e.prototype._getPath=function(){var t=this.screen.getBorders();0==this.path.length&&this._createPath(!1,!1);var e=this.path.shift(),n=!1,r=!1;return e.x<t.left&&(n=o.getRandom(0,1)),e.x+this.helperCanvas.width>t.right&&(n=o.getRandom(-1,0)),e.y<t.top&&(r=o.getRandom(0,1)),e.y+this.helperCanvas.height>t.bottom&&(r=o.getRandom(-1,0)),!1===n&&!1===r||(this.path=[],this._createPath(n,r),e=this.path.shift()),e},e.prototype.tick=function(){t.prototype.tick.call(this);var e=!1;this._tickCounter%10==0&&(e=!0,this.currentSpritePos++),this.exploding?this.currentSpritePos>=5&&(this.currentSpritePos=0):this.currentSpritePos>=4&&(this.currentSpritePos=0),e&&this._drawChicken()},e.prototype._drawChicken=function(){var t;t=this.directionX>=0?this.sprites.right[this.currentSpritePos]:this.sprites.left[this.currentSpritePos],this.exploding&&(t=this.sprites.explosion[this.currentSpritePos]),this.helperContext.clearRect(0,0,this.helperCanvas.width,this.helperCanvas.height),this.helperContext.drawImage(this.sprite,-1*t[0],-1*t[1])},e.prototype.explode=function(){this.currentSpritePos=0,this.exploding=!0},e.prototype.isExploding=function(){return this.exploding},e.prototype.get=function(){var t=this.helperCanvas,e=this._getPath();return this.exploding||(this.currentPathX=e.x,this.currentPathY=e.y),(!this.exploding||4!=this.currentSpritePos)&&{img:t,x:this.currentPathX,y:this.currentPathY,width:this.helperCanvas.width,height:this.helperCanvas.height}},e}(a);var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const l=function(t){function e(e){var n=t.call(this)||this;n.chickens=[];var r=n;return r.canvas=document.createElement("canvas"),r.canvas.width=e.clientWidth,r.canvas.height=e.clientHeight,r.context=r.canvas.getContext("2d"),r.canvas.addEventListener("mousedown",(function(t){return r.hunt(t)})),r.screenDestEl=e,r.screenDestEl.appendChild(r.get()),window.addEventListener("resize",o.debounce((function(){r.canvas.width=r.screenDestEl.clientWidth,r.canvas.height=r.screenDestEl.clientHeight}))),n}return p(e,t),e.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.insert=function(t){this.chickens.push(t)},e.prototype.tick=function(){for(var t=[],e=0;e<this.chickens.length;e++){var n=this.chickens[e];n.tick();var r=n.get();!1!==r?this.context.drawImage(r.img,r.x,r.y):t.push(e)}this.chickens=this.chickens.filter((function(e,n){return-1==t.indexOf(n)}))},e.prototype.getBorders=function(){return{top:0,left:0,bottom:this.canvas.height,right:this.canvas.width}},e.prototype.get=function(){return this.canvas},e.prototype.hunt=function(t){for(var e=t.pageX,n=t.pageY,r=0;r<this.chickens.length;r++){var i=this.chickens[r],o=i.get();if(o){var a=!1,c=!1;if(o.x<e&&o.x+o.width>e&&(a=!0),o.y<n&&o.y+o.height>n&&(c=!0),a&&c&&!i.isExploding()){i.explode();break}}}},e}(a);var d;function f(){setTimeout((function(){requestAnimationFrame(f),d.clear(),d.tick()}),1e3/i.fps)}window.addEventListener("load",(function(){d=new l(document.body),function(t){for(var e=0;e<10;e++)d.insert(new u({width:31,height:31,screen:d}))}(),f()}),!1)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi8uL3NyYy9zdHlsZS9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2V4cGxvZGluZy1jaGlja2VuLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V4cGxvZGluZy1jaGlja2VuL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vZXhwbG9kaW5nLWNoaWNrZW4vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi8uL3NyYy9zdHlsZS9zdHlsZS5jc3M/YzlmMCIsIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi8uL3NyYy90cy9jZmcvY2ZnLnRzIiwid2VicGFjazovL2V4cGxvZGluZy1jaGlja2VuLy4vc3JjL3RzL3V0aWxzL3V0aWxzLnRzIiwid2VicGFjazovL2V4cGxvZGluZy1jaGlja2VuLy4vc3JjL3RzL3ZpZXcvYWJzdHJhY3RWaWV3LnRzIiwid2VicGFjazovL2V4cGxvZGluZy1jaGlja2VuLy4vc3JjL3RzL3ZpZXcvY2hpY2tlbi50cyIsIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi8uL3NyYy90cy92aWV3L3NjcmVlbi50cyIsIndlYnBhY2s6Ly9leHBsb2RpbmctY2hpY2tlbi8uL3NyYy90cy9tYWluLnRzIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsImhhc093blByb3BlcnR5Iiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiLCJwIiwiZnBzIiwiVXRpbHMiLCJnZXRSYW5kb20iLCJtaW4iLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwidGltZW91dCIsImNvbnRleHQiLCJhcmdzIiwiYXJndW1lbnRzIiwibGF0ZXIiLCJhcHBseSIsImNhbGxOb3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJzdHJhY3RWaWV3IiwiX3RpY2tDb3VudGVyIiwiX3ZpZXdDb3VudGVyIiwiX3ZpZXdJZCIsInRpY2siLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX18iLCJjcmVhdGUiLCJfc3VwZXIiLCJjaGlja2VuIiwicENvbmZpZyIsIl90aGlzIiwic3ByaXRlIiwiSW1hZ2UiLCJoZWxwZXJDYW52YXMiLCJzcHJpdGVzIiwicmlnaHQiLCJsZWZ0IiwiZXhwbG9zaW9uIiwicGF0aCIsImV4cGxvZGluZyIsIndpZHRoIiwiaGVpZ2h0Iiwic2NyZWVuIiwiaGVscGVyQ29udGV4dCIsImdldENvbnRleHQiLCJjdXJyZW50U3ByaXRlUG9zIiwiX2JvcmRlcnMiLCJnZXRCb3JkZXJzIiwiY3VycmVudFBhdGhYIiwiY3VycmVudFBhdGhZIiwiYm90dG9tIiwiX2RyYXdDaGlja2VuIiwiX2NyZWF0ZVBhdGgiLCJwRm9yY2VEaXJlY3Rpb25YIiwicEZvcmNlRGlyZWN0aW9uWSIsIl9wb3NTdGFydFgiLCJfcG9zU3RhcnRZIiwiZGlyZWN0aW9uWCIsImRpcmVjdGlvblkiLCJfbmV4dFgiLCJfbmV4dFkiLCJ4IiwieSIsIl9nZXRQYXRoIiwiX25leHRTdGVwIiwic2hpZnQiLCJfZm9yY2VYIiwiX2ZvcmNlWSIsInRvcCIsIl9kcmF3IiwiX3Nwcml0ZSIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImV4cGxvZGUiLCJpc0V4cGxvZGluZyIsIl9jaGlja2VuIiwiX3BhdGgiLCJpbWciLCJTY3JlZW4iLCJwU2NyZWVuRGVzdCIsImNoaWNrZW5zIiwiX21lIiwiY2FudmFzIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwiaHVudCIsInNjcmVlbkRlc3RFbCIsImNsZWFyIiwicENoaWNrZW4iLCJfY2hpY2tlbnNUb1JlbW92ZSIsIl9jaGlja2VuQ2ZnIiwiaW5kZXhPZiIsInBFdmVudCIsIl9wb3NYIiwicGFnZVgiLCJfcG9zWSIsInBhZ2VZIiwiX2hvcml6b250YWxNYXRjaCIsIl92ZXJ0aWNhbE1hdGNoIiwibG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJvZHkiLCJwQW1vdW50Iiwic3Bhd25DaGlja2VuIl0sIm1hcHBpbmdzIjoidUZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksdUpBQXdKLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLG1DQUFtQyxNQUFRLEdBQUcsU0FBVyxxRkFBcUYsZUFBaUIsQ0FBQyx3SkFBd0osV0FBYSxNQUVqaUIsVyxRQ0NBRCxFQUFPRSxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0F1RFgsT0FyREFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBQVVOLEVBQXVCSyxH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YWluLmNiNWU5MmQyMGE4MDBiMmJlMzVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXHJcXG4gICAgbWFyZ2luOjA7XFxyXFxuICAgIHBhZGRpbmc6MDtcXHJcXG59XFxyXFxuaHRtbCxib2R5e1xcclxcbiAgICB3aWR0aDoxMDAlO1xcclxcbiAgICBoZWlnaHQ6MTAwJTtcXHJcXG59XFxyXFxuY2FudmFze1xcclxcbiAgICBib3gtc2hhZG93OjAgMCAycHggcmVkO1xcclxcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksUUFBUTtJQUNSLFNBQVM7QUFDYjtBQUNBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7QUFDZjtBQUNBO0lBQ0ksc0JBQXNCO0FBQzFCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcclxcbiAgICBtYXJnaW46MDtcXHJcXG4gICAgcGFkZGluZzowO1xcclxcbn1cXHJcXG5odG1sLGJvZHl7XFxyXFxuICAgIHdpZHRoOjEwMCU7XFxyXFxuICAgIGhlaWdodDoxMDAlO1xcclxcbn1cXHJcXG5jYW52YXN7XFxyXFxuICAgIGJveC1zaGFkb3c6MCAwIDJweCByZWQ7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuXG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsgaWYgKCFvKSByZXR1cm47IGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsgaWYgKG4gPT09IFwiT2JqZWN0XCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09IFwiTWFwXCIgfHwgbiA9PT0gXCJTZXRcIikgcmV0dXJuIEFycmF5LmZyb20obyk7IGlmIChuID09PSBcIkFyZ3VtZW50c1wiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikgeyBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH1cblxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAodHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8vIHRvZG86IHByb3BlciBzaW5nbGV0b24/XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBjZmcoKSB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSA2MDtcclxuICAgIH1cclxuICAgIHJldHVybiBjZmc7XHJcbn0oKSk7XHJcbiIsInZhciBVdGlscyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFV0aWxzKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBnZW5lcmF0ZSBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBtaW5cclxuICAgICAqIEBwYXJhbSBtYXhcclxuICAgICAqL1xyXG4gICAgVXRpbHMuZ2V0UmFuZG9tID0gZnVuY3Rpb24gKG1pbiwgbWF4KSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XHJcbiAgICAgKiBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXHJcbiAgICAgKiBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcclxuICAgICAqIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXHJcbiAgICAgKlxyXG4gICAgICogc291cmNlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODU0NDA3L2phdmFzY3JpcHQtanF1ZXJ5LXdpbmRvdy1yZXNpemUtaG93LXRvLWZpcmUtYWZ0ZXItdGhlLXJlc2l6ZS1pcy1jb21wbGV0ZWRcclxuICAgICAqL1xyXG4gICAgVXRpbHMuZGVib3VuY2UgPSBmdW5jdGlvbiAoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XHJcbiAgICAgICAgaWYgKHdhaXQgPT09IHZvaWQgMCkgeyB3YWl0ID0gdW5kZWZpbmVkOyB9XHJcbiAgICAgICAgaWYgKGltbWVkaWF0ZSA9PT0gdm9pZCAwKSB7IGltbWVkaWF0ZSA9IHVuZGVmaW5lZDsgfVxyXG4gICAgICAgIHZhciB0aW1lb3V0O1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWltbWVkaWF0ZSlcclxuICAgICAgICAgICAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XHJcbiAgICAgICAgICAgIGlmIChjYWxsTm93KVxyXG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVdGlscztcclxufSgpKTtcclxuZXhwb3J0IGRlZmF1bHQgVXRpbHM7XHJcbiIsImltcG9ydCBDZmcgZnJvbSAnLi4vY2ZnL2NmZyc7XHJcbnZhciBhYnN0cmFjdFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBhYnN0cmFjdFZpZXcoKSB7XHJcbiAgICAgICAgdGhpcy5fdGlja0NvdW50ZXIgPSAxO1xyXG4gICAgICAgIGFic3RyYWN0Vmlldy5fdmlld0NvdW50ZXIrKztcclxuICAgICAgICB0aGlzLl92aWV3SWQgPSBhYnN0cmFjdFZpZXcuX3ZpZXdDb3VudGVyLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGZyYW1lIGRyYXcgdXBkYXRlXHJcbiAgICAgKi9cclxuICAgIGFic3RyYWN0Vmlldy5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLl90aWNrQ291bnRlcisrO1xyXG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnRlciA+IENmZy5mcHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGlja0NvdW50ZXIgPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBhYnN0cmFjdFZpZXcuX3ZpZXdDb3VudGVyID0gMDtcclxuICAgIHJldHVybiBhYnN0cmFjdFZpZXc7XHJcbn0oKSk7XHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0VmlldztcclxuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IFV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IEFic3RyYWN0VmlldyBmcm9tICcuL2Fic3RyYWN0Vmlldyc7XHJcbmltcG9ydCBjaGlja2VuUG5nU3JjIGZyb20gJy4vLi4vLi4vYXNzZXRzL2ltYWdlcy9jaGlja2VuMi5wbmcnO1xyXG52YXIgY2hpY2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhjaGlja2VuLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gY2hpY2tlbihwQ29uZmlnKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zcHJpdGUgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICBfdGhpcy5oZWxwZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBfdGhpcy5zcHJpdGVzID0ge1xyXG4gICAgICAgICAgICByaWdodDogW1xyXG4gICAgICAgICAgICAgICAgWzY2LCAyMl0sXHJcbiAgICAgICAgICAgICAgICBbOTgsIDIyXSxcclxuICAgICAgICAgICAgICAgIFsxMzAsIDI0XSxcclxuICAgICAgICAgICAgICAgIFsxNjIsIDI0XVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBsZWZ0OiBbXHJcbiAgICAgICAgICAgICAgICBbNjQsIDkwXSxcclxuICAgICAgICAgICAgICAgIFs5NiwgODldLFxyXG4gICAgICAgICAgICAgICAgWzEyOCwgODhdLFxyXG4gICAgICAgICAgICAgICAgWzE2MCwgODhdXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIGV4cGxvc2lvbjogW1xyXG4gICAgICAgICAgICAgICAgWzI0MCwgMjJdLFxyXG4gICAgICAgICAgICAgICAgWzIwNSwgMjJdLFxyXG4gICAgICAgICAgICAgICAgWzIzLCA4N10sXHJcbiAgICAgICAgICAgICAgICBbMjMsIDU2XSxcclxuICAgICAgICAgICAgICAgIFsyMywgMjBdXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIF90aGlzLnBhdGggPSBbXTtcclxuICAgICAgICBfdGhpcy5leHBsb2RpbmcgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5oZWxwZXJDYW52YXMud2lkdGggPSBwQ29uZmlnLndpZHRoO1xyXG4gICAgICAgIF90aGlzLmhlbHBlckNhbnZhcy5oZWlnaHQgPSBwQ29uZmlnLmhlaWdodDtcclxuICAgICAgICBfdGhpcy5zY3JlZW4gPSBwQ29uZmlnLnNjcmVlbjtcclxuICAgICAgICBfdGhpcy5oZWxwZXJDb250ZXh0ID0gX3RoaXMuaGVscGVyQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgX3RoaXMuY3VycmVudFNwcml0ZVBvcyA9IDA7XHJcbiAgICAgICAgdmFyIF9ib3JkZXJzID0gX3RoaXMuc2NyZWVuLmdldEJvcmRlcnMoKTtcclxuICAgICAgICBfdGhpcy5jdXJyZW50UGF0aFggPSBVdGlscy5nZXRSYW5kb20oMCwgX2JvcmRlcnMucmlnaHQgLSBfdGhpcy5oZWxwZXJDYW52YXMud2lkdGgpO1xyXG4gICAgICAgIF90aGlzLmN1cnJlbnRQYXRoWSA9IFV0aWxzLmdldFJhbmRvbSgwLCBfYm9yZGVycy5ib3R0b20gLSBfdGhpcy5oZWxwZXJDYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBfdGhpcy5zcHJpdGUuc3JjID0gY2hpY2tlblBuZ1NyYztcclxuICAgICAgICBfdGhpcy5fZHJhd0NoaWNrZW4oKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlIHRoZSByb3V0ZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwRm9yY2VEaXJlY3Rpb25YIDF8MHwtMXxmYWxzZVxyXG4gICAgICogQHBhcmFtIHBGb3JjZURpcmVjdGlvblkgMXwwfC0xfGZhbHNlXHJcbiAgICAgKi9cclxuICAgIGNoaWNrZW4ucHJvdG90eXBlLl9jcmVhdGVQYXRoID0gZnVuY3Rpb24gKHBGb3JjZURpcmVjdGlvblgsIHBGb3JjZURpcmVjdGlvblkpIHtcclxuICAgICAgICB2YXIgX3Bvc1N0YXJ0WCA9IHRoaXMuY3VycmVudFBhdGhYLCBfcG9zU3RhcnRZID0gdGhpcy5jdXJyZW50UGF0aFk7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb25YID0gKHBGb3JjZURpcmVjdGlvblggIT09IGZhbHNlKSA/IHBGb3JjZURpcmVjdGlvblggOiBVdGlscy5nZXRSYW5kb20oLTEsIDEpO1xyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uWSA9IChwRm9yY2VEaXJlY3Rpb25ZICE9PSBmYWxzZSkgPyBwRm9yY2VEaXJlY3Rpb25ZIDogVXRpbHMuZ2V0UmFuZG9tKC0xLCAxKTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgVXRpbHMuZ2V0UmFuZG9tKDEsIDEwMDApOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfbmV4dFggPSBfcG9zU3RhcnRYICsgKF9pICogdGhpcy5kaXJlY3Rpb25YKSwgX25leHRZID0gX3Bvc1N0YXJ0WSArIChfaSAqIHRoaXMuZGlyZWN0aW9uWSk7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IF9uZXh0WCxcclxuICAgICAgICAgICAgICAgIHk6IF9uZXh0WSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IG5leHQgcGF0aCBzdGVwXHJcbiAgICAgKlxyXG4gICAgICogY2hlY2sgaWYgdGhlIHN0ZXAgaXMgcG9zc2libGVcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtzdGVwfVxyXG4gICAgICovXHJcbiAgICBjaGlja2VuLnByb3RvdHlwZS5fZ2V0UGF0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2JvcmRlcnMgPSB0aGlzLnNjcmVlbi5nZXRCb3JkZXJzKCk7XHJcbiAgICAgICAgaWYgKHRoaXMucGF0aC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jcmVhdGVQYXRoKGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBfbmV4dFN0ZXAgPSB0aGlzLnBhdGguc2hpZnQoKTtcclxuICAgICAgICB2YXIgX2ZvcmNlWCA9IGZhbHNlLCBfZm9yY2VZID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKF9uZXh0U3RlcC54IDwgX2JvcmRlcnMubGVmdCkge1xyXG4gICAgICAgICAgICBfZm9yY2VYID0gVXRpbHMuZ2V0UmFuZG9tKDAsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX25leHRTdGVwLnggKyB0aGlzLmhlbHBlckNhbnZhcy53aWR0aCA+IF9ib3JkZXJzLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgIF9mb3JjZVggPSBVdGlscy5nZXRSYW5kb20oLTEsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX25leHRTdGVwLnkgPCBfYm9yZGVycy50b3ApIHtcclxuICAgICAgICAgICAgX2ZvcmNlWSA9IFV0aWxzLmdldFJhbmRvbSgwLCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKF9uZXh0U3RlcC55ICsgdGhpcy5oZWxwZXJDYW52YXMuaGVpZ2h0ID4gX2JvcmRlcnMuYm90dG9tKSB7XHJcbiAgICAgICAgICAgIF9mb3JjZVkgPSBVdGlscy5nZXRSYW5kb20oLTEsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX2ZvcmNlWCAhPT0gZmFsc2UgfHwgX2ZvcmNlWSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXRoID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVBhdGgoX2ZvcmNlWCwgX2ZvcmNlWSk7XHJcbiAgICAgICAgICAgIF9uZXh0U3RlcCA9IHRoaXMucGF0aC5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX25leHRTdGVwO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZnJhbWUgc3RlcFxyXG4gICAgICovXHJcbiAgICBjaGlja2VuLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudGljay5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHZhciBfZHJhdyA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLl90aWNrQ291bnRlciAlIDEwID09IDApIHtcclxuICAgICAgICAgICAgX2RyYXcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTcHJpdGVQb3MrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmV4cGxvZGluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3ByaXRlUG9zID49IDQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNwcml0ZVBvcyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTcHJpdGVQb3MgPj0gNSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3ByaXRlUG9zID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX2RyYXcpIHtcclxuICAgICAgICAgICAgdGhpcy5fZHJhd0NoaWNrZW4oKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBkcmF3IHRoZSBjaGlja2VuIHRvIHRoZSBoZWxwZXJcclxuICAgICAqL1xyXG4gICAgY2hpY2tlbi5wcm90b3R5cGUuX2RyYXdDaGlja2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfc3ByaXRlO1xyXG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvblggPj0gMCkge1xyXG4gICAgICAgICAgICBfc3ByaXRlID0gdGhpcy5zcHJpdGVzLnJpZ2h0W3RoaXMuY3VycmVudFNwcml0ZVBvc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBfc3ByaXRlID0gdGhpcy5zcHJpdGVzLmxlZnRbdGhpcy5jdXJyZW50U3ByaXRlUG9zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9kaW5nKSB7XHJcbiAgICAgICAgICAgIF9zcHJpdGUgPSB0aGlzLnNwcml0ZXMuZXhwbG9zaW9uW3RoaXMuY3VycmVudFNwcml0ZVBvc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGVscGVyQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5oZWxwZXJDYW52YXMud2lkdGgsIHRoaXMuaGVscGVyQ2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5oZWxwZXJDb250ZXh0LmRyYXdJbWFnZSh0aGlzLnNwcml0ZSwgX3Nwcml0ZVswXSAqIC0xLCBfc3ByaXRlWzFdICogLTEpO1xyXG4gICAgfTtcclxuICAgIGNoaWNrZW4ucHJvdG90eXBlLmV4cGxvZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U3ByaXRlUG9zID0gMDtcclxuICAgICAgICB0aGlzLmV4cGxvZGluZyA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgY2hpY2tlbi5wcm90b3R5cGUuaXNFeHBsb2RpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwbG9kaW5nO1xyXG4gICAgfTtcclxuICAgIGNoaWNrZW4ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2NoaWNrZW4gPSB0aGlzLmhlbHBlckNhbnZhcztcclxuICAgICAgICB2YXIgX3BhdGggPSB0aGlzLl9nZXRQYXRoKCk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV4cGxvZGluZykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoWCA9IF9wYXRoLng7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGhZID0gX3BhdGgueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZXhwbG9kaW5nICYmIHRoaXMuY3VycmVudFNwcml0ZVBvcyA9PSA0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaW1nOiBfY2hpY2tlbixcclxuICAgICAgICAgICAgeDogdGhpcy5jdXJyZW50UGF0aFgsXHJcbiAgICAgICAgICAgIHk6IHRoaXMuY3VycmVudFBhdGhZLFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5oZWxwZXJDYW52YXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWxwZXJDYW52YXMuaGVpZ2h0LFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGNoaWNrZW47XHJcbn0oQWJzdHJhY3RWaWV3KSk7XHJcbmV4cG9ydCBkZWZhdWx0IGNoaWNrZW47XHJcbjtcclxuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuaW1wb3J0IEFic3RyYWN0VmlldyBmcm9tICcuL2Fic3RyYWN0Vmlldyc7XHJcbmltcG9ydCBVdGlscyBmcm9tICcuLy4uL3V0aWxzL3V0aWxzJztcclxudmFyIFNjcmVlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTY3JlZW4sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTY3JlZW4ocFNjcmVlbkRlc3QpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNoaWNrZW5zID0gW107XHJcbiAgICAgICAgdmFyIF9tZSA9IF90aGlzO1xyXG4gICAgICAgIF9tZS5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBfbWUuY2FudmFzLndpZHRoID0gcFNjcmVlbkRlc3QuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgX21lLmNhbnZhcy5oZWlnaHQgPSBwU2NyZWVuRGVzdC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgX21lLmNvbnRleHQgPSBfbWUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgX21lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gX21lLmh1bnQoZSk7IH0pO1xyXG4gICAgICAgIF9tZS5zY3JlZW5EZXN0RWwgPSBwU2NyZWVuRGVzdDtcclxuICAgICAgICBfbWUuc2NyZWVuRGVzdEVsLmFwcGVuZENoaWxkKF9tZS5nZXQoKSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIFV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX21lLmNhbnZhcy53aWR0aCA9IF9tZS5zY3JlZW5EZXN0RWwuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgIF9tZS5jYW52YXMuaGVpZ2h0ID0gX21lLnNjcmVlbkRlc3RFbC5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogY2xlYXIgc2NyZWVuIGZvciBuZXh0IGRyYXdcclxuICAgICAqL1xyXG4gICAgU2NyZWVuLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogaW5zZXJ0IHRoaW5ncy9jaGlja2VuIHRvIHNjcmVlblxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwQ2hpY2tlbkNmZ1RvSW5zZXJ0XHJcbiAgICAgKi9cclxuICAgIFNjcmVlbi5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHBDaGlja2VuKSB7XHJcbiAgICAgICAgdGhpcy5jaGlja2Vucy5wdXNoKHBDaGlja2VuKTtcclxuICAgIH07XHJcbiAgICBTY3JlZW4ucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9jaGlja2Vuc1RvUmVtb3ZlID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuY2hpY2tlbnMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfY2hpY2tlbiA9IHRoaXMuY2hpY2tlbnNbX2ldO1xyXG4gICAgICAgICAgICBfY2hpY2tlbi50aWNrKCk7XHJcbiAgICAgICAgICAgIHZhciBfY2hpY2tlbkNmZyA9IF9jaGlja2VuLmdldCgpO1xyXG4gICAgICAgICAgICBpZiAoX2NoaWNrZW5DZmcgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZHJhd0ltYWdlKF9jaGlja2VuQ2ZnLmltZywgX2NoaWNrZW5DZmcueCwgX2NoaWNrZW5DZmcueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfY2hpY2tlbnNUb1JlbW92ZS5wdXNoKF9pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNoaWNrZW5zID0gdGhpcy5jaGlja2Vucy5maWx0ZXIoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX2NoaWNrZW5zVG9SZW1vdmUuaW5kZXhPZihpbmRleCkgPT0gLTE7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBTY3JlZW4ucHJvdG90eXBlLmdldEJvcmRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9wOiAwLFxyXG4gICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICBib3R0b206IHRoaXMuY2FudmFzLmhlaWdodCxcclxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMuY2FudmFzLndpZHRoXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBTY3JlZW4ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XHJcbiAgICB9O1xyXG4gICAgU2NyZWVuLnByb3RvdHlwZS5odW50ID0gZnVuY3Rpb24gKHBFdmVudCkge1xyXG4gICAgICAgIHZhciBfcG9zWCA9IHBFdmVudC5wYWdlWCwgX3Bvc1kgPSBwRXZlbnQucGFnZVk7XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IHRoaXMuY2hpY2tlbnMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBfY2hpY2tlbiA9IHRoaXMuY2hpY2tlbnNbX2ldLCBfY2hpY2tlbkNmZyA9IF9jaGlja2VuLmdldCgpO1xyXG4gICAgICAgICAgICBpZiAoIV9jaGlja2VuQ2ZnKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2hvcml6b250YWxNYXRjaCA9IGZhbHNlLCBfdmVydGljYWxNYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoX2NoaWNrZW5DZmcueCA8IF9wb3NYICYmIF9jaGlja2VuQ2ZnLnggKyBfY2hpY2tlbkNmZy53aWR0aCA+IF9wb3NYKSB7XHJcbiAgICAgICAgICAgICAgICBfaG9yaXpvbnRhbE1hdGNoID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoX2NoaWNrZW5DZmcueSA8IF9wb3NZICYmIF9jaGlja2VuQ2ZnLnkgKyBfY2hpY2tlbkNmZy5oZWlnaHQgPiBfcG9zWSkge1xyXG4gICAgICAgICAgICAgICAgX3ZlcnRpY2FsTWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChfaG9yaXpvbnRhbE1hdGNoICYmIF92ZXJ0aWNhbE1hdGNoICYmICFfY2hpY2tlbi5pc0V4cGxvZGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICBfY2hpY2tlbi5leHBsb2RlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gU2NyZWVuO1xyXG59KEFic3RyYWN0VmlldykpO1xyXG5leHBvcnQgZGVmYXVsdCBTY3JlZW47XHJcbiIsImltcG9ydCAnLi8uLi9zdHlsZS9zdHlsZS5jc3MnO1xyXG5pbXBvcnQgQ2ZnIGZyb20gJy4vY2ZnL2NmZyc7XHJcbmltcG9ydCBDaGlja2VuIGZyb20gJy4vdmlldy9jaGlja2VuJztcclxuaW1wb3J0IFNjcmVlbiBmcm9tICcuL3ZpZXcvc2NyZWVuJztcclxudmFyIHNwcml0ZVNpemUgPSAzMTtcclxudmFyIHNjcmVlbjtcclxudmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBzY3JlZW4gPSBuZXcgU2NyZWVuKGRvY3VtZW50LmJvZHkpO1xyXG4gICAgc3Bhd25DaGlja2VuKDEwKTtcclxuICAgIGxvb3AoKTtcclxufTtcclxuZnVuY3Rpb24gc3Bhd25DaGlja2VuKHBBbW91bnQpIHtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBwQW1vdW50OyBfaSsrKSB7XHJcbiAgICAgICAgc2NyZWVuLmluc2VydChuZXcgQ2hpY2tlbih7XHJcbiAgICAgICAgICAgIHdpZHRoOiBzcHJpdGVTaXplLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHNwcml0ZVNpemUsXHJcbiAgICAgICAgICAgIHNjcmVlbjogc2NyZWVuXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGxvb3AoKSB7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XHJcbiAgICAgICAgc2NyZWVuLmNsZWFyKCk7XHJcbiAgICAgICAgc2NyZWVuLnRpY2soKTtcclxuICAgIH0sIDEwMDAgLyBDZmcuZnBzKTtcclxufVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGluaXQsIGZhbHNlKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==